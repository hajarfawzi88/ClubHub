<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Event</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
    .header {
        background-color: #f8f9fa; /* Adjust the color to match your design */
        padding: 10px;
    }

    .content {
        margin-top: 20px;
    }

    .content section {
        margin-bottom: 20px;
    }

    footer {
        text-align: center;
        padding: 20px;
        background-color: #95abcc;  /* Adjust the color to match your design */
    }

    .navbar-brand img {
        border-radius: 50%; /* Circular logo */
    }
    .Text{
        font-size: 20px; 
        color: black;
    }
    .navbar-nav {
flex-grow: 1; 
justify-content: center;  
}

.background-container {
    background-image: url('https://github.com/hajarfawzi88/ClubHub/blob/main/Clubsreal.jpeg?raw=true'); /* Replace with your image URL */
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    height: 1250px; /* Adjust the height as needed */
    opacity: 1;
    position: relative;
}
.dark-overlay {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(32, 39, 59, 0.9); /* Adjust the alpha value for darkness */
}
.navbar-custom {
background-color: #95abcc; /* Example: blue */
color: rgb(2, 2, 2); /* Ensures text is readable on a dark background */
}
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-custom text-white">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <img src="https://github.com/hajarfawzi88/ClubHub/blob/Hajar/image.png?raw=true" alt="Logo" width="50" height="50" class="d-inline-block align-text-top">
        </a>
        <div class="Text">
            ClubHub 
        </div>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <button class="btn btn-success" id="join-new-clubs">Join New Clubs</button>
                </li>
            </ul>
            <span class="navbar-text">
                {{ user.username if user else 'Guest' }}
            </span>
            <button id="Edit-button"class="btn btn-primary">Edit your profile</button>
            <button id="logout-button"class="btn btn-primary">Logout</button>
            

        </div>
    </div>
</nav>

    <div class="container mt-5">
        <h2>Request an Event</h2>
        <form id="event-request-form" method="POST">
            <div class="mb-3">
                <label for="Club-id" class="form-label">Club id</label>
                <textarea class="form-control" id="Club-id" name="Club-id" required></textarea>
            </div>
            <div class="mb-3">
                <label for="eventName" class="form-label">Event Name</label>
                <input type="text" class="form-control" id="eventName" name="eventName" required>
            </div>
            <div class="mb-3">
                <label for="location" class="form-label">Location</label>
                <input type="text" class="form-control" id="location" name="location" required>
            </div>
            <div class="mb-3">
                <label for="expectedMembers" class="form-label">Expected Members (RSVP)</label>
                <input type="number" class="form-control" id="expectedMembers" name="expectedMembers" required>
            </div>
            <div class="mb-3">
                <label for="date" class="form-label">Event Date</label>
                <input type="text" class="form-control" id="date" name="date" required placeholder="MM/DD/YYYY" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" required></textarea>
            </div>
            
            
            <button type="submit" class="btn btn-primary">Submit Request</button>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.getElementById('event-request-form').addEventListener('submit', function(event) {
    event.preventDefault();
    const date = document.getElementById('date').value;
    console.log("Date being sent:", date); 
    const submitButton = document.querySelector('button[type="submit"]');
    submitButton.textContent = 'Submitting...';
    submitButton.disabled = true;

    const formData = {
        eventName: document.getElementById('eventName').value,
        location: document.getElementById('location').value,
        expectedMembers: document.getElementById('expectedMembers').value,
        
        date: document.getElementById('date').value,
        description: document.getElementById('description').value
    };

    fetch('/submit_event_request', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
        alert('Event Request Submitted: ' + data.message);
        document.getElementById('event-request-form').reset();
        submitButton.textContent = 'Submit Request';
        submitButton.disabled = false;
    })
    .catch((error) => {
        console.error('Error:', error);
        alert('Failed to submit the request. Please try again.');
        submitButton.textContent = 'Submit Request';
        submitButton.disabled = false;
    });

    document.getElementById('logout-button').addEventListener('click', function() {
        window.location.href = '/logout'; // Redirects the user to the homepage
    });
});

    </script>

</body>
</html>

